<!DOCTYPE html>
<html lang="ru">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Cosmos Electro</title>
  <link rel="stylesheet" href="css/prices.css">
</head>

<body>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Poiret+One&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Nunito:ital,wght@0,200..1000;1,200..1000&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Raleway:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">

  <header>
    <a class="logo" href="index.html">
      <img src="images/logo.jpg" alt="–õ–æ–≥–æ—Ç–∏–ø" />
    </a>
    <nav id="nav">
      <ul>
        <li><a href="booking.html">–û–Ω–ª–∞–π–Ω –∑–∞–ø–∏—Å—å</a></li>
        <li><a href="services.html">–ü—Ä–æ—Ü–µ–¥—É—Ä—ã</a></li>
        <li><a href="prices.html">–¶–µ–Ω—ã</a></li>
        <li><a href="info.html">–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</a></li>
        <li><a href="contact.html">–ö–æ–Ω—Ç–∞–∫—Ç—ã</a></li>
      </ul>
    </nav>

    <div class="burger" id="burger">
      <span></span>
      <span></span>
      <span></span>
    </div>
  </header>

  <main>
    <section class="prices">
      <div class="prices-grid">


        <div class="price-block" data-cat="–≠–ª–µ–∫—Ç—Ä–æ—ç–ø–∏–ª—è—Ü–∏—è">
          <h2>–≠–ª–µ–∫—Ç—Ä–æ—ç–ø–∏–ª—è—Ü–∏—è</h2>
          <div class="price-items"></div>
          <section class="price-note">
            <p>* –í —Ü–µ–Ω—É –≤—Ö–æ–¥–∏—Ç <strong>–æ–¥–Ω–æ—Ä–∞–∑–æ–≤–∞—è –∏–≥–ª–∞</strong></p>
          </section>
        </div>

  
        <div class="price-block" data-cat="–ö–æ—Å–º–µ—Ç–æ–ª–æ–≥–∏—è">
          <h2>–ö–æ—Å–º–µ—Ç–æ–ª–æ–≥–∏—è</h2>
          <div class="price-items"></div>
        </div>

 
        <div class="price-block" data-cat="–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ –∫ –ø—Ä–æ—Ü–µ–¥—É—Ä–µ">
          <h2>–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ –∫ –ø—Ä–æ—Ü–µ–¥—É—Ä–µ</h2>
          <div class="price-items"></div>
        </div> 

        
        <div class="price-block" data-cat="Filler powder">
          <h2>Filler powder(—Ñ–∏–ª–ª–µ—Ä –±–µ–∑ üíâ)</h2>
          <div class="price-items"></div>
          <section class="price-note">
            <p>* –í –ø—Ä–æ—Ü–µ–¥—É—Ä—É –≤—Ö–æ–¥–∏—Ç <strong>—Ö–∏–º–∏—á–µ—Å–∫–∏–π –ø–∏–ª–∏–Ω–≥</strong></p>
          </section>
        </div>

      </div>


      <div class="cta">
        <a href="https://dikidi.net/1057822?p=0.pi" class="btn" target="_blank" rel="noopener noreferrer">
          –ó–∞–ø–∏—Å–∞—Ç—å—Å—è –æ–Ω–ª–∞–π–Ω
        </a>
      </div>
    </section>
  </main>

  <footer>
    <p>¬© 2025 –≠–ª–µ–∫—Ç—Ä–æ—ç–ø–∏–ª—è—Ü–∏—è –∏ –ö–æ—Å–º–µ—Ç–æ–ª–æ–≥–∏—è. –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã.</p>
  </footer>


  <script>
    const spaceId = "k0pr2qc2hwpa";
    const accessToken = "CTgl0s7SgdELFSPWYL_l0tlWDXmKYV-dxD6KblT-S1E";
    const env = "master";

    async function loadPrices() {
      try {
        const url = `https://cdn.contentful.com/spaces/${spaceId}/environments/${env}/entries?access_token=${accessToken}&content_type=priceItem&limit=1000&order=fields.order`;
        const res = await fetch(url);
        const data = await res.json();

        const byCategory = {};
        data.items.forEach(item => {
          const f = item.fields;
          const category = f.category || "–ë–µ–∑ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏";
          if (!byCategory[category]) byCategory[category] = [];
          byCategory[category].push({
            name: f.serviceName,
            price: f.price,
            order: f.order ?? 999
          });
        });

        document.querySelectorAll(".price-block").forEach(block => {
          const cat = block.dataset.cat;
          const container = block.querySelector(".price-items");
          const items = (byCategory[cat] || []).sort((a, b) => a.order - b.order);
          container.innerHTML = items.map(it => `
            <div class="price-item">
              <h3>${it.name}</h3>
              <p>${it.price}‚Ç¨</p>
            </div>
          `).join("");
        });
      } catch (err) {
        console.error("–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö –∏–∑ Contentful:", err);
      }
    }

    loadPrices();
  </script>

  <script>
    const burger = document.getElementById('burger');
    const nav = document.getElementById('nav');

    burger.addEventListener('click', () => {
      burger.classList.toggle('active');
      nav.classList.toggle('open');
    });
  </script>
</body>
</html>